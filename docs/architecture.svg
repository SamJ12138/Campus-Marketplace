<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" font-family="Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="backendGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="aiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#a855f7"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </linearGradient>
    <linearGradient id="dataGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="infraGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="100%" style="stop-color:#dc2626"/>
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    <filter id="glow" x="-10%" y="-10%" width="120%" height="120%">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="url(#bgGrad)" rx="16"/>

  <!-- Title -->
  <text x="600" y="48" text-anchor="middle" fill="#f8fafc" font-size="26" font-weight="700" letter-spacing="0.5">Campus Marketplace — System Architecture</text>
  <text x="600" y="72" text-anchor="middle" fill="#94a3b8" font-size="13">AI-First Campus Marketplace Platform</text>

  <!-- ═══════════════ CLIENTS ROW ═══════════════ -->
  <text x="80" y="110" fill="#64748b" font-size="11" font-weight="600" letter-spacing="1.5">CLIENTS</text>

  <!-- Browser -->
  <rect x="30" y="122" width="160" height="60" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="110" y="148" text-anchor="middle" fill="#e2e8f0" font-size="13" font-weight="600">Web Browser</text>
  <text x="110" y="168" text-anchor="middle" fill="#94a3b8" font-size="10">gimme-dat.com</text>

  <!-- Mobile -->
  <rect x="210" y="122" width="160" height="60" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="290" y="148" text-anchor="middle" fill="#e2e8f0" font-size="13" font-weight="600">Mobile (PWA)</text>
  <text x="290" y="168" text-anchor="middle" fill="#94a3b8" font-size="10">Responsive Web App</text>

  <!-- Admin -->
  <rect x="390" y="122" width="160" height="60" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="470" y="148" text-anchor="middle" fill="#e2e8f0" font-size="13" font-weight="600">Admin Dashboard</text>
  <text x="470" y="168" text-anchor="middle" fill="#94a3b8" font-size="10">AI Insights + Moderation</text>

  <!-- Arrows down from clients -->
  <line x1="290" y1="182" x2="290" y2="212" stroke="#475569" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="286,210 294,210 290,218" fill="#475569"/>

  <!-- ═══════════════ FRONTEND ═══════════════ -->
  <text x="80" y="235" fill="#3b82f6" font-size="11" font-weight="600" letter-spacing="1.5">FRONTEND — VERCEL</text>

  <rect x="30" y="247" width="540" height="105" rx="12" fill="#1e293b" stroke="#3b82f6" stroke-width="1.5" filter="url(#shadow)" opacity="0.95"/>

  <!-- Next.js -->
  <rect x="50" y="262" width="150" height="38" rx="7" fill="url(#frontendGrad)" opacity="0.9"/>
  <text x="125" y="286" text-anchor="middle" fill="#fff" font-size="12" font-weight="600">Next.js 14</text>

  <!-- TanStack -->
  <rect x="215" y="262" width="115" height="38" rx="7" fill="url(#frontendGrad)" opacity="0.75"/>
  <text x="272" y="286" text-anchor="middle" fill="#fff" font-size="11" font-weight="500">TanStack Query</text>

  <!-- Zustand -->
  <rect x="345" y="262" width="95" height="38" rx="7" fill="url(#frontendGrad)" opacity="0.75"/>
  <text x="392" y="286" text-anchor="middle" fill="#fff" font-size="11" font-weight="500">Zustand</text>

  <!-- Tailwind -->
  <rect x="455" y="262" width="95" height="38" rx="7" fill="url(#frontendGrad)" opacity="0.75"/>
  <text x="502" y="286" text-anchor="middle" fill="#fff" font-size="11" font-weight="500">Tailwind CSS</text>

  <!-- Frontend Features -->
  <text x="58" y="322" fill="#94a3b8" font-size="10">Support Chat Widget</text>
  <text x="58" y="338" fill="#64748b" font-size="9">RAG chatbot UI</text>
  <text x="220" y="322" fill="#94a3b8" font-size="10">AI Listing Assist</text>
  <text x="220" y="338" fill="#64748b" font-size="9">Title / Desc / Price</text>
  <text x="370" y="322" fill="#94a3b8" font-size="10">Admin Insights</text>
  <text x="370" y="338" fill="#64748b" font-size="9">Trends + Risk Scores</text>

  <!-- Arrow from frontend to backend -->
  <line x1="300" y1="352" x2="300" y2="388" stroke="#475569" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="296,386 304,386 300,394" fill="#475569"/>
  <text x="312" y="376" fill="#64748b" font-size="9">REST API</text>

  <!-- ═══════════════ BACKEND ═══════════════ -->
  <text x="80" y="410" fill="#10b981" font-size="11" font-weight="600" letter-spacing="1.5">BACKEND — RENDER</text>

  <rect x="30" y="422" width="540" height="195" rx="12" fill="#1e293b" stroke="#10b981" stroke-width="1.5" filter="url(#shadow)" opacity="0.95"/>

  <!-- FastAPI core -->
  <rect x="50" y="437" width="200" height="38" rx="7" fill="url(#backendGrad)" opacity="0.9"/>
  <text x="150" y="461" text-anchor="middle" fill="#fff" font-size="12" font-weight="600">FastAPI 0.115 + SQLAlchemy 2.0</text>

  <!-- Auth -->
  <rect x="265" y="437" width="80" height="38" rx="7" fill="url(#backendGrad)" opacity="0.7"/>
  <text x="305" y="461" text-anchor="middle" fill="#fff" font-size="10" font-weight="500">JWT Auth</text>

  <!-- CORS -->
  <rect x="360" y="437" width="80" height="38" rx="7" fill="url(#backendGrad)" opacity="0.7"/>
  <text x="400" y="461" text-anchor="middle" fill="#fff" font-size="10" font-weight="500">CORS</text>

  <!-- ARQ -->
  <rect x="455" y="437" width="100" height="38" rx="7" fill="url(#backendGrad)" opacity="0.7"/>
  <text x="505" y="461" text-anchor="middle" fill="#fff" font-size="10" font-weight="500">ARQ Workers</text>

  <!-- API Routes row -->
  <text x="58" y="498" fill="#94a3b8" font-size="10" font-weight="600">API Routes (16 modules)</text>
  <rect x="50" y="506" width="66" height="24" rx="5" fill="#334155"/>
  <text x="83" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/auth</text>
  <rect x="122" y="506" width="66" height="24" rx="5" fill="#334155"/>
  <text x="155" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/listings</text>
  <rect x="194" y="506" width="74" height="24" rx="5" fill="#334155"/>
  <text x="231" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/messages</text>
  <rect x="274" y="506" width="66" height="24" rx="5" fill="#334155"/>
  <text x="307" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/search</text>
  <rect x="346" y="506" width="66" height="24" rx="5" fill="#334155"/>
  <text x="379" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/chatbot</text>
  <rect x="418" y="506" width="66" height="24" rx="5" fill="#334155"/>
  <text x="451" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/reports</text>
  <rect x="490" y="506" width="66" height="24" rx="5" fill="#334155"/>
  <text x="523" y="522" text-anchor="middle" fill="#a7f3d0" font-size="9">/admin</text>

  <!-- More routes -->
  <rect x="50" y="534" width="78" height="24" rx="5" fill="#334155"/>
  <text x="89" y="550" text-anchor="middle" fill="#a7f3d0" font-size="9">/campuses</text>
  <rect x="134" y="534" width="78" height="24" rx="5" fill="#334155"/>
  <text x="173" y="550" text-anchor="middle" fill="#a7f3d0" font-size="9">/favorites</text>
  <rect x="218" y="534" width="66" height="24" rx="5" fill="#334155"/>
  <text x="251" y="550" text-anchor="middle" fill="#a7f3d0" font-size="9">/blocks</text>
  <rect x="290" y="534" width="78" height="24" rx="5" fill="#334155"/>
  <text x="329" y="550" text-anchor="middle" fill="#a7f3d0" font-size="9">/uploads</text>
  <rect x="374" y="534" width="90" height="24" rx="5" fill="#334155"/>
  <text x="419" y="550" text-anchor="middle" fill="#a7f3d0" font-size="9">/listing-assist</text>
  <rect x="470" y="534" width="86" height="24" rx="5" fill="#334155"/>
  <text x="513" y="550" text-anchor="middle" fill="#a7f3d0" font-size="9">/analytics</text>

  <!-- Service layer label -->
  <text x="58" y="582" fill="#94a3b8" font-size="10" font-weight="600">Service Layer</text>
  <text x="165" y="582" fill="#64748b" font-size="9">Moderation | Email | Auto-Seed | Permissions | Rate Limiting</text>

  <!-- Separator label -->
  <text x="58" y="602" fill="#94a3b8" font-size="10" font-weight="600">Data Layer</text>
  <text x="130" y="602" fill="#64748b" font-size="9">Repository Pattern | Alembic Migrations | Async Sessions</text>

  <!-- ═══════════════ AI AGENTS (right side) ═══════════════ -->
  <text x="620" y="110" fill="#a855f7" font-size="11" font-weight="600" letter-spacing="1.5">AI AGENTS — CLAUDE API</text>

  <rect x="600" y="122" width="570" height="495" rx="12" fill="#1e293b" stroke="#a855f7" stroke-width="1.5" filter="url(#shadow)" opacity="0.95"/>

  <!-- AI Service Core -->
  <rect x="620" y="138" width="530" height="42" rx="8" fill="url(#aiGrad)" opacity="0.9"/>
  <text x="885" y="157" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">AI Service Abstraction Layer</text>
  <text x="885" y="172" text-anchor="middle" fill="#e9d5ff" font-size="10">Claude API | Structured Output | Chat | Completions | Graceful Fallback</text>

  <!-- Agent cards - Row 1 -->
  <rect x="620" y="192" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="640" cy="212" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="640" y="216" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">1</text>
  <text x="658" y="216" fill="#e9d5ff" font-size="11" font-weight="600">Content Moderation</text>
  <text x="635" y="232" fill="#a78bfa" font-size="9">Scam / harassment / spam detection</text>
  <text x="635" y="246" fill="#7c3aed" font-size="9">Confidence scoring + auto-actions</text>

  <rect x="892" y="192" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="912" cy="212" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="912" y="216" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">2</text>
  <text x="930" y="216" fill="#e9d5ff" font-size="11" font-weight="600">Support Chatbot (RAG)</text>
  <text x="907" y="232" fill="#a78bfa" font-size="9">Knowledge base + context retrieval</text>
  <text x="907" y="246" fill="#7c3aed" font-size="9">Auto-escalation when unsure</text>

  <!-- Agent cards - Row 2 -->
  <rect x="620" y="276" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="640" cy="296" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="640" y="300" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">3</text>
  <text x="658" y="300" fill="#e9d5ff" font-size="11" font-weight="600">Semantic Search</text>
  <text x="635" y="316" fill="#a78bfa" font-size="9">pgvector embeddings (384-dim)</text>
  <text x="635" y="330" fill="#7c3aed" font-size="9">Similar items + recommendations</text>

  <rect x="892" y="276" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="912" cy="296" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="912" y="300" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">4</text>
  <text x="930" y="300" fill="#e9d5ff" font-size="11" font-weight="600">Listing Optimizer</text>
  <text x="907" y="316" fill="#a78bfa" font-size="9">Auto-generate titles, descriptions</text>
  <text x="907" y="330" fill="#7c3aed" font-size="9">Price suggestions + completeness</text>

  <!-- Agent cards - Row 3 -->
  <rect x="620" y="360" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="640" cy="380" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="640" y="384" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">5</text>
  <text x="658" y="384" fill="#e9d5ff" font-size="11" font-weight="600">Admin Intelligence</text>
  <text x="635" y="400" fill="#a78bfa" font-size="9">Trend analysis + anomaly detection</text>
  <text x="635" y="414" fill="#7c3aed" font-size="9">User risk scoring (5-factor model)</text>

  <rect x="892" y="360" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="912" cy="380" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="912" y="384" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">6</text>
  <text x="930" y="384" fill="#e9d5ff" font-size="11" font-weight="600">Smart Notifications</text>
  <text x="907" y="400" fill="#a78bfa" font-size="9">Personalized digests + re-engagement</text>
  <text x="907" y="414" fill="#7c3aed" font-size="9">Price drop alerts + quiet hours</text>

  <!-- Agent cards - Row 4 -->
  <rect x="620" y="444" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="640" cy="464" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="640" y="468" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">7</text>
  <text x="658" y="468" fill="#e9d5ff" font-size="11" font-weight="600">Campus Onboarding</text>
  <text x="635" y="484" fill="#a78bfa" font-size="9">Auto-provision categories + settings</text>
  <text x="635" y="498" fill="#7c3aed" font-size="9">AI-generated landing pages + SEO</text>

  <rect x="892" y="444" width="258" height="72" rx="8" fill="#2d1b4e" stroke="#7c3aed" stroke-width="1" opacity="0.9"/>
  <circle cx="912" cy="464" r="10" fill="#a855f7" opacity="0.7"/>
  <text x="912" y="468" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">8</text>
  <text x="930" y="468" fill="#e9d5ff" font-size="11" font-weight="600">Keyword Moderation</text>
  <text x="907" y="484" fill="#a78bfa" font-size="9">Fast pre-filter before AI analysis</text>
  <text x="907" y="498" fill="#7c3aed" font-size="9">Regex patterns + spam detection</text>

  <!-- Fallback note -->
  <rect x="620" y="528" width="530" height="30" rx="6" fill="#1a1028" stroke="#4c1d95" stroke-width="1"/>
  <text x="885" y="548" text-anchor="middle" fill="#a78bfa" font-size="10">All AI agents degrade gracefully with heuristic/template fallbacks when Claude API is unavailable</text>

  <!-- Connection line from backend to AI -->
  <line x1="570" y1="460" x2="600" y2="400" stroke="#7c3aed" stroke-width="1.5" stroke-dasharray="5,3"/>

  <!-- ═══════════════ DATA LAYER ═══════════════ -->
  <text x="80" y="650" fill="#f59e0b" font-size="11" font-weight="600" letter-spacing="1.5">DATA LAYER</text>

  <!-- PostgreSQL -->
  <rect x="30" y="662" width="210" height="70" rx="10" fill="#1e293b" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="45" y="672" width="82" height="22" rx="5" fill="url(#dataGrad)" opacity="0.85"/>
  <text x="86" y="688" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">PostgreSQL</text>
  <text x="140" y="688" fill="#fde68a" font-size="9">Neon (Serverless)</text>
  <text x="52" y="710" fill="#94a3b8" font-size="9">Users | Listings | Messages</text>
  <text x="52" y="722" fill="#94a3b8" font-size="9">Reports | Campuses | Categories</text>

  <!-- pgvector -->
  <rect x="260" y="662" width="175" height="70" rx="10" fill="#1e293b" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="275" y="672" width="72" height="22" rx="5" fill="url(#dataGrad)" opacity="0.85"/>
  <text x="311" y="688" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">pgvector</text>
  <text x="355" y="688" fill="#fde68a" font-size="9">Extension</text>
  <text x="275" y="710" fill="#94a3b8" font-size="9">384-dim embeddings</text>
  <text x="275" y="722" fill="#94a3b8" font-size="9">HNSW cosine search</text>

  <!-- Redis -->
  <rect x="455" y="662" width="175" height="70" rx="10" fill="#1e293b" stroke="#f59e0b" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="470" y="672" width="56" height="22" rx="5" fill="url(#dataGrad)" opacity="0.85"/>
  <text x="498" y="688" text-anchor="middle" fill="#fff" font-size="10" font-weight="600">Redis</text>
  <text x="535" y="688" fill="#fde68a" font-size="9">Cache + Queue</text>
  <text x="470" y="710" fill="#94a3b8" font-size="9">Rate limiting</text>
  <text x="470" y="722" fill="#94a3b8" font-size="9">ARQ job queue</text>

  <!-- ═══════════════ INFRA ROW ═══════════════ -->
  <text x="80" y="768" fill="#ef4444" font-size="11" font-weight="600" letter-spacing="1.5">INFRASTRUCTURE</text>

  <!-- Cloudflare R2 -->
  <rect x="30" y="780" width="170" height="55" rx="10" fill="#1e293b" stroke="#ef4444" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="115" y="804" text-anchor="middle" fill="#fca5a5" font-size="11" font-weight="600">Cloudflare R2</text>
  <text x="115" y="822" text-anchor="middle" fill="#94a3b8" font-size="9">Photo / File Storage</text>

  <!-- Cloudflare CDN -->
  <rect x="220" y="780" width="170" height="55" rx="10" fill="#1e293b" stroke="#ef4444" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="305" y="804" text-anchor="middle" fill="#fca5a5" font-size="11" font-weight="600">Cloudflare CDN</text>
  <text x="305" y="822" text-anchor="middle" fill="#94a3b8" font-size="9">Edge Caching + DNS</text>

  <!-- Resend -->
  <rect x="410" y="780" width="170" height="55" rx="10" fill="#1e293b" stroke="#ef4444" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="495" y="804" text-anchor="middle" fill="#fca5a5" font-size="11" font-weight="600">Resend</text>
  <text x="495" y="822" text-anchor="middle" fill="#94a3b8" font-size="9">Transactional Email</text>

  <!-- Claude API -->
  <rect x="600" y="780" width="170" height="55" rx="10" fill="#1e293b" stroke="#a855f7" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="685" y="804" text-anchor="middle" fill="#d8b4fe" font-size="11" font-weight="600">Anthropic Claude</text>
  <text x="685" y="822" text-anchor="middle" fill="#94a3b8" font-size="9">AI Model Provider</text>

  <!-- Sentry -->
  <rect x="790" y="780" width="170" height="55" rx="10" fill="#1e293b" stroke="#ef4444" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="875" y="804" text-anchor="middle" fill="#fca5a5" font-size="11" font-weight="600">Sentry</text>
  <text x="875" y="822" text-anchor="middle" fill="#94a3b8" font-size="9">Error Monitoring</text>

  <!-- Connection arrows from backend to data -->
  <line x1="135" y1="617" x2="135" y2="662" stroke="#475569" stroke-width="1" stroke-dasharray="3,3"/>
  <line x1="347" y1="617" x2="347" y2="662" stroke="#475569" stroke-width="1" stroke-dasharray="3,3"/>
  <line x1="500" y1="617" x2="542" y2="662" stroke="#475569" stroke-width="1" stroke-dasharray="3,3"/>

  <!-- Stats footer -->
  <rect x="600" y="662" width="570" height="70" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1" filter="url(#shadow)"/>
  <text x="885" y="685" text-anchor="middle" fill="#e2e8f0" font-size="12" font-weight="600">Platform Metrics</text>
  <text x="660" y="708" fill="#10b981" font-size="11">16 API modules</text>
  <text x="790" y="708" fill="#a855f7" font-size="11">8 AI agents</text>
  <text x="900" y="708" fill="#f59e0b" font-size="11">370+ tests</text>
  <text x="1020" y="708" fill="#3b82f6" font-size="11">Multi-campus</text>

  <!-- Watermark -->
  <text x="1170" y="890" text-anchor="end" fill="#334155" font-size="9">GimmeDat v1.0 — Built with Claude</text>
</svg>
